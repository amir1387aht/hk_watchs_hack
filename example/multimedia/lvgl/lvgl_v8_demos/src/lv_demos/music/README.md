# 音乐播放器演示

## 概述
音乐播放器演示显示了可以在LVGL上创建的现代智能手机样用户界面。它在480x272或272x480分辨率的显示器上效果最佳。


![LVGL嵌入式GUI库的音乐播放器演示](screenshot1.gif)

## 运行演示
- 在 `lv_conf.h` 或等效位置设置 `LV_USE_DEMO_MUSIC 1`
- 启用 `LV_DEMO_MUSIC_AUTO_PLAY` 后将播放约60秒的演示。
- 在 `lv_init()` 和初始化驱动程序后调用 `lv_demo_music()`

## 频谱动画的工作原理
- `assets/spectrum.py` 从音乐创建频谱值数组。以33样本/秒创建4个频段：低音、中低音、中音、中高音。
- 频谱计UI执行以下操作：
	- 根据当前低音值按比例缩放专辑封面
	- 默认在圆的左侧显示4个频段，位置为0°、45°、90°、135°
	- 在"主条"旁边添加具有余弦形状的额外条。为较低频段添加更多条。
	- 如果有足够大的低音，为条的位置添加随机偏移。例如从63°开始而不是0°。（大于180°的条从0°重新开始）
	- 如果没有低音，为条的偏移加1（它创建"行走"效果）
	- 将条镜像到圆的右侧
	
## 使用spectrum.py
- 使用 `pip3 install librosa` 安装 `librosa`
- 运行 `python spectrum.py my_file.mp3`
- 在 `spectrum.h` 中查看结果
