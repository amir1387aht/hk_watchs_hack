from building import *

cwd  = GetCurrentDir()

src  = [
    "sdio/skw_sdio_core.c",
	"sdio/skw_sdio_main.c",
	"sdio/skw_sdio_rx.c",
    "port/lwip/net.c",
	"port/lwip/wifi_netif.c",
	"port/lwip/hooks/lwip_default_hooks.c",
    #"port/net/net.c",
	#"port/net/wifi_netif.c",
	#"port/net/hooks/lwip_default_hooks.c",
	#"port/os/os_cli.c",
	#"port/os/os.c",
	"port/osa/mem_pool_config.c",
	"port/osa/mem_pool.c",
	"port/osa/osa_cli.c",
	"port/osa/osa_freertos.c",
	#"port/osa/osa_threadx.c",
	"port/osa/osa.c",
	"port/osa/slist.c",
	"port/osa/stack_simple.c",
	"wifidriver/mlan_11ac.c",
	"wifidriver/mlan_11ax.c",
	"wifidriver/mlan_11d.c",
	"wifidriver/mlan_11h.c",
	"wifidriver/mlan_11k.c",
	"wifidriver/mlan_11n_aggr.c",
	"wifidriver/mlan_11n_rxreorder.c",
	"wifidriver/mlan_11n.c",
	"wifidriver/mlan_11v.c",
	"wifidriver/mlan_action.c",
	"wifidriver/mlan_api.c",
	"wifidriver/mlan_cfp.c",
	"wifidriver/mlan_cmdevt.c",
	"wifidriver/mlan_glue.c",
	"wifidriver/mlan_init.c",
	"wifidriver/mlan_join.c",
	"wifidriver/mlan_mbo.c",
	"wifidriver/mlan_misc.c",
	"wifidriver/mlan_scan.c",
	#"wifidriver/mlan_sdio.c",
	"wifidriver/mlan_shim.c",
	"wifidriver/mlan_sta_cmd.c",
	"wifidriver/mlan_sta_cmdresp.c",
	"wifidriver/mlan_sta_event.c",
	"wifidriver/mlan_sta_ioctl.c",
	"wifidriver/mlan_sta_rx.c",
	"wifidriver/mlan_txrx.c",
	"wifidriver/mlan_uap_cmdevent.c",
	"wifidriver/mlan_uap_ioctl.c",
	"wifidriver/mlan_wmm.c",
	#"wifidriver/sdio.c",
	"wifidriver/wifi_pwrmgr.c",
	"wifidriver/wifi-debug.c",
	#"wifidriver/wifi-imu.c",
	"wifidriver/wifi-mem.c",
	"wifidriver/wifi-sdio.c",
	"wifidriver/wifi-uap.c",
	#"wifidriver/wifi-wps.c",
	#"wifidriver/wifi-wps.c",
	"wifidriver/wifi.c",
	"wifidriver/wpa_supp_if/rtos_wpa_supp_if.c",
	"wifidriver/wpa_supp_if/wifi_nxp_internal.c",
	"wifidriver/wpa_supp_if/wifi_nxp.c",
    #"wlcmgr/wlan_basic_cli.c",
    #"wlcmgr/wlan_enhanced_tests.c",
    "wlcmgr/wlan_mcu_mem_access_cli.c",
    "wlcmgr/wlan_test_mode_tests.c",
    #"wlcmgr/wlan_tests.c",
    #"wlcmgr/wlan_txpwrlimit_cfg.c",
    "wlcmgr/wlan.c",
    "wifi_main.c",
    "sdio/skw_sdio_core.c",
    "sdio/skw_sdio_main.c",
    "sdio/skw_sdio_rx.c" ,
    "skwutil/skw_iface.c",
]

path = [
    cwd,
    cwd + '/incl',
    cwd + '/sdio',
    cwd + '/port/lwip',
    # cwd + '/port/net',
	cwd + '/port/osa',
	cwd + '/skwutil',
    cwd + '/incl/wlcmgr',
    cwd + '/incl/port/lwip/hooks',
    cwd + '/incl/port/lwip',
    cwd + '/incl/port/net/hooks',
    cwd + '/incl/port/net',
    #cwd + '/incl/port/os',
    cwd + '/incl/port/osa',
    cwd + '/incl/wifidriver',
    
    cwd + '/incl/wmcrypto',
    
    cwd + '/wifidriver',
	cwd + '/wifidriver/incl',
	cwd + '/wifidriver/wpa_supp_if/incl',
    cwd + '/',

]

CPPDEFINES = [
    'USE_RTOS',
    'SDK_OS_FREE_RTOS',
]

group = DefineGroup('wifi', src, depend = ['BSP_WIFI_SWT6621'], CPPPATH = path, CPPDEFINES=CPPDEFINES)

Return('group')
